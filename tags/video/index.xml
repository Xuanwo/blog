<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Video on Xuanwo&#39;s Blog</title><link>https://xuanwo.io/tags/video/</link><description>Recent content in Video on Xuanwo&#39;s Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 18 Dec 2015 12:49:49 +0000</lastBuildDate><atom:link href="https://xuanwo.io/tags/video/index.xml" rel="self" type="application/rss+xml"/><item><title>在线视频下载完整解决方案</title><link>https://xuanwo.io/2015/12/18/online-video-download-solution/</link><pubDate>Fri, 18 Dec 2015 12:49:49 +0000</pubDate><guid>https://xuanwo.io/2015/12/18/online-video-download-solution/</guid><description>&lt;p&gt;因为学习需要，产生了一个这样的需求：要从Youtube上批量下载视频。自然，出于方便使用的角度来看，音画不能分离，最好带有对应的字幕。一番搜罗之后，我找到了基于Python的开源产品： &lt;a href=&#34;https://rg3.github.io/youtube-dl/&#34;&gt;youtube-dl&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;值得一提的是，youtube-dl不仅仅能下载youtube上的视频，它支持的视频链接种类多达700+种，几乎囊括了所有在线视频网站，列表参见&lt;a href=&#34;https://rg3.github.io/youtube-dl/supportedsites.html&#34;&gt;此处&lt;/a&gt;。让我不由得感慨开源的力量。除此以外，某些不存在的网址需要自备梯子，不再赘述。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;获取&#34;&gt;获取&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;checked on 2015-12-18&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;windows&#34;&gt;Windows&lt;/h2&gt;
&lt;p&gt;Windows用户可以使用已经打包好的可执行程序：&lt;a href=&#34;https://yt-dl.org/downloads/2015.12.13/youtube-dl.exe&#34;&gt;下载链接&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;unix-like&#34;&gt;UNIX like&lt;/h2&gt;
&lt;p&gt;类UNIX系统的用户可以使用curl或者wget来获取可执行文件&lt;/p&gt;
&lt;h3 id=&#34;curl&#34;&gt;curl&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo curl https://yt-dl.org/downloads/2015.12.13/youtube-dl -o /usr/local/bin/youtube-dl
sudo chmod a+rx /usr/local/bin/youtube-dl&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&#34;wget&#34;&gt;wget&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo wget https://yt-dl.org/downloads/2015.12.13/youtube-dl -O /usr/local/bin/youtube-dl
sudo chmod a+rx /usr/local/bin/youtube-dl&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;homebrew&#34;&gt;Homebrew&lt;/h2&gt;
&lt;p&gt;Homebrew用户可以使用如下命令进行安装：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install youtube-dl&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;pip&#34;&gt;pip&lt;/h2&gt;
&lt;p&gt;同样的，你也可以使用pip来安装它。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sudo pip install --upgrade youtube_dl&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;source&#34;&gt;Source&lt;/h2&gt;
&lt;p&gt;自然，你可以选择下载源代码以及docs，链接&lt;a href=&#34;https://yt-dl.org/downloads/2015.12.13/youtube-dl-2015.12.13.tar.gz&#34;&gt;见此&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;使用&#34;&gt;使用&lt;/h1&gt;
&lt;h2 id=&#34;简易&#34;&gt;简易&lt;/h2&gt;
&lt;p&gt;最简单的方式就是直接加上视频链接地址就可以自动下载到当前文件夹：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;youtube-dl.exe url&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;使用代理&#34;&gt;使用代理&lt;/h2&gt;
&lt;p&gt;以常见的ss代理为例：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;youtube-dl.exe url --proxy http://127.0.0.1:1080&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;有一个坑点在于这个参数只支持HTTP/HTTPS代理，所以本地跑SS的话，需要在前面加上一个HTTP的前缀，否则代理不会正常工作。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;下载列表&#34;&gt;下载列表&lt;/h2&gt;
&lt;p&gt;以Youtube Playlist为例：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;youtube-dl.exe --yes-playlist https://www.youtube.com/playlist?list&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;PLZlv_N0_O1gZg3dTMetmsfm_s4lb4-Tg0 --proxy http://127.0.0.1:1080&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&#34;下载字幕&#34;&gt;下载字幕&lt;/h2&gt;
&lt;p&gt;以Youtube Playlist为例，自动生成字幕并指定下载中文和英文字幕：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;youtube-dl.exe --yes-playlist https://www.youtube.com/playlist?list&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;PLZlv_N0_O1gZg3dTMetmsfm_s4lb4-Tg0 --proxy http://127.0.0.1:1080 --write-auto-sub --sub-lang en,cn&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;字幕相关设定：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;--write-sub 写字幕文件
--write-auto-sub 写入自动生成的字幕文件 &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;YouTube only&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
--all-subs 下载所有可提供的字幕
--list-subs 列出当前视频支持的所有字幕
--sub-format FORMAT 指定字幕格式，比如 &lt;span style=&#34;color:#4070a0&#34;&gt;&amp;#34;srt&amp;#34;&lt;/span&gt; 或者 &lt;span style=&#34;color:#4070a0&#34;&gt;&amp;#34;ass/srt/best&amp;#34;&lt;/span&gt;
--sub-lang LANGS 指定字幕语言，用&lt;span style=&#34;color:#4070a0&#34;&gt;`&lt;/span&gt;,&lt;span style=&#34;color:#4070a0&#34;&gt;`&lt;/span&gt;分隔, 使用 IETF 语言标记，比如 &lt;span style=&#34;color:#4070a0&#34;&gt;&amp;#39;en,pt&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;IETF语言标记参见&lt;a href=&#34;http://www.ietf.org/assignments/language-subtag-registry/language-subtag-registry&#34;&gt;此处&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;更新日志&#34;&gt;更新日志&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;2015年12月18日 首次发布&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>